!function(e,t,a){"use strict";t.render(e.createElement(()=>{const[t,l]=e.useState([]),[n,r]=e.useState(""),[m,s]=e.useState(!1),[c,i]=e.useState(!1);e.useEffect(()=>{(async()=>{s(!0);const e=(await a.fetch.get("/user/player/list")).map(e=>e.name);l(e),r(e[0]),s(!1)})()},[]);return m?e.createElement("p",null,"Loading..."):e.createElement("form",{method:"post",onSubmit:async e=>{e.preventDefault(),i(!0);const{code:t,message:l}=await a.fetch.post("/user/player/bind",{player:n});0===t?(await a.notify.showModal({mode:"alert",text:l}),window.location.href=a.base_url+"/user"):a.notify.showModal({mode:"alert",text:l}),i(!1)}},t.length>0?e.createElement(e.Fragment,null,e.createElement("p",null,a.t("single-player-limit.bindExistedPlayer")),e.createElement("div",{className:"mb-3"},t.map(t=>e.createElement("label",{key:t,className:"d-block mb-1"},e.createElement("input",{type:"radio",className:"mr-2",checked:n===t,onChange:()=>r(t)}),t)))):e.createElement(e.Fragment,null,e.createElement("p",null,a.t("single-player-limit.bindNewPlayer")),e.createElement("input",{type:"text",className:"form-control mb-3",placeholder:a.t("general.player.player-name"),onChange:e=>r(e.target.value)})),e.createElement("button",{className:"btn btn-primary float-right",type:"submit",disabled:c},c?e.createElement(e.Fragment,null,e.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),a.t("general.wait")):a.t("general.submit")))},null),document.querySelector("#form"))}(React,ReactDOM,blessing);
